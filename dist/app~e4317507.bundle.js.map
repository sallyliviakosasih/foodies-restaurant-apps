{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/add-comment-function.js","webpack://restaurant-apps/./src/scripts/utils/like-button-function.js","webpack://restaurant-apps/./src/scripts/utils/navi-list-function.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["import Favorites from '../views/pages/favorites-page';\r\nimport Detail from '../views/pages/detail-pages';\r\nimport Home from '../views/pages/home-page';\r\n\r\nconst routes = {\r\n    '/': Home,\r\n    '/home': Home,\r\n    '/favorites': Favorites,\r\n    '/detail/:id': Detail,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParser = {\r\n    parsingActiveUrlWithCombiner() {\r\n      const activeUrl = window.location.hash.slice(1).toLowerCase();\r\n      const splitedActiveUrl = this._urlSplitter(activeUrl);\r\n      return this._urlCombiner(splitedActiveUrl);\r\n      },\r\n\r\n    parsingActiveUrlWithoutCombiner() {\r\n      const activeUrl = window.location.hash.slice(1).toLowerCase();\r\n      return this._urlSplitter(activeUrl);\r\n    },\r\n\r\n    _urlSplitter(url) {\r\n      const splittedUrl = url.split('/');\r\n      return {\r\n        resource: splittedUrl[1] || null,\r\n        id: splittedUrl[2] || null,\r\n        verb: splittedUrl[3] || null,\r\n      };\r\n    },\r\n\r\n    _urlCombiner(url) {\r\n      return (url.resource ? `/${url.resource}` : '/')\r\n      + (url.id ? '/:id' : '')\r\n      + (url.verb ? `${url.verb}` : '');\r\n    },\r\n  };\r\nexport default UrlParser;\r\n","/* eslint-disable max-len */\r\nimport CONFIG from '../globals/config';\r\nimport RestaurantAPI from '../data/restaurant-api-source';\r\nimport { detailDataImageRestaurant, detailDataDescriptionRestaurant, detailDataReviewsOfRestaurant } from '../views/templates/template-creator';\r\n\r\nconst AddCommentFunction = {\r\n   async init({ details_container, data_commment }) {\r\n        this._details_container = details_container;\r\n        this._data_comments = data_commment;\r\n\r\n        await this._fetchRequest(this._data_comments);\r\n        location.reload();\r\n    },\r\n    async _fetchRequest(Data) {\r\n        try {\r\n            const options = {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(Data),\r\n            };\r\n            const response = await fetch(`${CONFIG.BASE_URL}/review`, options);\r\n            const responseJSON = await response.json();\r\n            console.log(responseJSON);\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    },\r\n\r\n    async _renderData(id) {\r\n        const raw_detail_restaurant = await RestaurantAPI.detailOfRestaurant(id);\r\n        this._details_container.append(detailDataImageRestaurant(raw_detail_restaurant), detailDataDescriptionRestaurant(raw_detail_restaurant), detailDataReviewsOfRestaurant(raw_detail_restaurant));\r\n    },\r\n};\r\n\r\nexport default AddCommentFunction;\r\n","import { createLikeButtonTemplate, createUnlikeButtonTemplate } from '../views/templates/template-creator';\r\n\r\nconst LikeButtonFunction = {\r\n    async init({ likeButtonContainer, favoriteRestaurantdb, DataRestaurant }) {\r\n        this._likeButtonContainer = likeButtonContainer;\r\n        this._DataRestaurant = DataRestaurant;\r\n        this._favoriteRestaurantdb = favoriteRestaurantdb;\r\n\r\n        await this._renderButton();\r\n    },\r\n\r\n    async _renderButton() {\r\n        const { id } = this._DataRestaurant;\r\n        if (await this._isDataRestaurantStored(id)) {\r\n            this._renderUnlike();\r\n        } else {\r\n            this._renderLike();\r\n        }\r\n    },\r\n\r\n    async _isDataRestaurantStored(id) {\r\n        const DataRestaurant = await this._favoriteRestaurantdb.getRestaurant(id);\r\n        return !!DataRestaurant;\r\n    },\r\n\r\n    _renderLike() {\r\n        this._likeButtonContainer.innerHTML = createLikeButtonTemplate();\r\n        const likeButton = document.querySelector('#likeButton');\r\n        likeButton.addEventListener('click', async () => {\r\n            await this._favoriteRestaurantdb.updateDataRestaurant(this._DataRestaurant);\r\n            this._renderButton();\r\n        });\r\n    },\r\n\r\n    _renderUnlike() {\r\n        this._likeButtonContainer.innerHTML = createUnlikeButtonTemplate();\r\n        const likeButton = document.querySelector('#unlikeButton');\r\n        likeButton.addEventListener('click', async () => {\r\n            await this._favoriteRestaurantdb.deleteRestaurant(this._DataRestaurant.id);\r\n            this._renderButton();\r\n        });\r\n    },\r\n\r\n};\r\n\r\nexport default LikeButtonFunction;\r\n","const NaviListFunction = {\r\n    init({ moreNaviButton, naviList, mainContent }) {\r\n      moreNaviButton.addEventListener('click', (ev) => {\r\n        this._openNaviDrawer(ev, naviList);\r\n      });\r\n\r\n      mainContent.addEventListener('click', (ev) => {\r\n        this._closeNaviDrawer(ev, naviList);\r\n      });\r\n    },\r\n\r\n    _openNaviDrawer(event, naviList) {\r\n      event.stopPropagation();\r\n      naviList.classList.toggle('open');\r\n    },\r\n\r\n    _closeNaviDrawer(event, naviList) {\r\n      event.stopPropagation();\r\n      naviList.classList.remove('open');\r\n    },\r\n  };\r\n\r\nexport default NaviListFunction;\r\n","import * as workboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n    if (!('serviceWorker' in navigator)) {\r\n        console.log('Service Worker is not Supported in the browser');\r\n        return;\r\n    }\r\n\r\n    const wb = new workboxWindow.Workbox('./sw.bundle.js');\r\n\r\n    try {\r\n        await wb.register();\r\n        console.log('Service Worker is registered');\r\n    } catch (error) {\r\n        console.log('Failed to register Service Worker', error.message);\r\n    }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["Home","Favorites","Detail","parsingActiveUrlWithCombiner","activeUrl","window","location","hash","slice","toLowerCase","splitedActiveUrl","this","_urlSplitter","_urlCombiner","parsingActiveUrlWithoutCombiner","url","splittedUrl","split","resource","id","verb","i","init","details_container","data_commment","_details_container","_data_comments","_fetchRequest","reload","Data","options","method","headers","body","JSON","stringify","fetch","CONFIG","response","json","responseJSON","console","log","message","_renderData","RestaurantAPI","raw_detail_restaurant","append","detailDataImageRestaurant","detailDataDescriptionRestaurant","detailDataReviewsOfRestaurant","likeButtonContainer","favoriteRestaurantdb","DataRestaurant","_likeButtonContainer","_DataRestaurant","_favoriteRestaurantdb","_renderButton","_isDataRestaurantStored","_renderUnlike","_renderLike","getRestaurant","innerHTML","createLikeButtonTemplate","document","querySelector","addEventListener","updateDataRestaurant","createUnlikeButtonTemplate","deleteRestaurant","moreNaviButton","naviList","mainContent","ev","_openNaviDrawer","_closeNaviDrawer","event","stopPropagation","classList","toggle","remove","navigator","wb","workboxWindow","register"],"sourceRoot":""}